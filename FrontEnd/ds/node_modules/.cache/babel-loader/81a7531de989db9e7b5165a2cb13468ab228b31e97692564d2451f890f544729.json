{"ast":null,"code":"import _regeneratorRuntime from\"C:/DashboardSportG10-React/ds/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/DashboardSportG10-React/ds/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/DashboardSportG10-React/ds/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/DashboardSportG10-React/ds/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/DashboardSportG10-React/ds/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import axios from\"axios\";import{Link,useNavigate}from\"react-router-dom\";//import styles from \"./styles.module.css\";\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Login=function Login(){var _useState=useState({correo:'',password:''}),_useState2=_slicedToArray(_useState,2),body=_useState2[0],setBody=_useState2[1];var navigate=useNavigate();// const classes = useStyles()\nvar inputChange=function inputChange(_ref){var target=_ref.target;var name=target.name,value=target.value;setBody(_objectSpread(_objectSpread({},body),{},_defineProperty({},name,value)));};//********** */\nvar onSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var axiosConfig,URI,resp,s,union1,r;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;axiosConfig={headers:{'Content-Type':'application/json;charset=UTF-8',\"Access-Control-Allow-Origin\":\"*\"}};URI='http://localhost:8001/usuarios/login';console.log(\"paso por aca\");_context.next=7;return axios.post(URI,body,axiosConfig);case 7:resp=_context.sent;s=JSON.stringify(resp===null||resp===void 0?void 0:resp.data);union1=s.split(\":\")[2];r=union1.substring(1,union1.length-3);console.log('Este es el JWT:',r);localStorage.setItem('auth',r);navigate('/sheventos');window.location='/sheventos';_context.next=23;break;case 17:_context.prev=17;_context.t0=_context[\"catch\"](1);navigate('/login');window.location='/login';console.log(_context.t0);console.log(\"Paso por abajo\");case 23:case\"end\":return _context.stop();}}},_callee,null,[[1,17]]);}));return function onSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Login\"}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"input\",{autoFocus:true,type:\"text\",placeholder:\"Correo\",value:body.correo,onChange:inputChange,name:\"correo\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",value:body.password,onChange:inputChange,name:\"password\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onSubmit,type:\"submit\",children:\"Sign In\"}),/*#__PURE__*/_jsx(Link,{to:\"/create\",children:\"Sign Up\"})]})]});};export default Login;","map":{"version":3,"names":["useState","axios","Link","useNavigate","Login","correo","password","body","setBody","navigate","inputChange","target","name","value","onSubmit","e","preventDefault","axiosConfig","headers","URI","console","log","post","resp","s","JSON","stringify","data","union1","split","r","substring","length","localStorage","setItem","window","location"],"sources":["C:/DashboardSportG10-React/ds/src/deportes/Login.jsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\n//import styles from \"./styles.module.css\";\r\n\r\nexport const Login = () => {\r\n    const [body, setBody] = useState({ correo: '', password: '' })\r\n    const navigate  = useNavigate()\r\n   // const classes = useStyles()\r\n\r\n    const inputChange = ({ target }) => {\r\n        const { name, value } = target\r\n        setBody({\r\n            ...body,\r\n            [name]: value\r\n        })\r\n    }\r\n\r\n\r\n    //********** */\r\n       const onSubmit = async (e) => {\r\n        e.preventDefault();\r\n        try{\r\n\r\n            let axiosConfig = {\r\n                headers: {\r\n                    'Content-Type': 'application/json;charset=UTF-8',\r\n                    \"Access-Control-Allow-Origin\": \"*\",\r\n                    \r\n                }\r\n              };\r\n            const URI = 'http://localhost:8001/usuarios/login'\r\n        console.log(\"paso por aca\")\r\n        const resp = await axios.post(URI, body, axiosConfig );\r\n    let s = JSON.stringify(resp?.data);\r\n\r\n            let union1 = s.split(\":\")[2];\r\n  \r\n             let r = union1.substring(1, union1.length-3);\r\n                  console.log('Este es el JWT:',r);\r\n                 localStorage.setItem('auth',r)\r\n                  navigate('/sheventos')\r\n                    window.location = '/sheventos'\r\n\r\n\r\n\r\n                \r\n            \r\n        }\r\n        catch(error)  {\r\n                navigate('/login')\r\n               window.location = '/login'\r\n                console.log(error)\r\n                console.log(\"Paso por abajo\")\r\n            }\r\n        }\r\n \r\n\r\n\treturn (\r\n\t\t\r\n        <div >\r\n        <h3>Login</h3>\r\n         <form >\r\n             <input\r\n               \r\n                 autoFocus\r\n                 type= \"text\"\r\n                 placeholder = \"Correo\"\r\n                 value= {body.correo}\r\n                 onChange= { inputChange }\r\n                 name= \"correo\"\r\n             />\r\n             <input type=\"password\"\r\n                 placeholder = \"Password\"\r\n                 value={body.password}\r\n                 onChange={inputChange}\r\n                 name=\"password\"\r\n             />\r\n             <button onClick={onSubmit} type=\"submit\" >\r\n                 Sign In\r\n             </button>\r\n             <Link to=\"/create\" >Sign Up</Link>\r\n         </form>\r\n     </div>\r\n\r\n\t);\r\n};\r\n\r\nexport default Login;"],"mappings":"glBAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC,MAAOC,MAAK,KAAM,OAAO,CACzB,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CACpD;AAAA,wFAEA,MAAO,IAAMC,MAAK,CAAG,QAARA,MAAK,EAAS,CACvB,cAAwBJ,QAAQ,CAAC,CAAEK,MAAM,CAAE,EAAE,CAAEC,QAAQ,CAAE,EAAG,CAAC,CAAC,wCAAvDC,IAAI,eAAEC,OAAO,eACpB,GAAMC,SAAQ,CAAIN,WAAW,EAAE,CAChC;AAEC,GAAMO,YAAW,CAAG,QAAdA,YAAW,MAAmB,IAAbC,OAAM,MAANA,MAAM,CACzB,GAAQC,KAAI,CAAYD,MAAM,CAAtBC,IAAI,CAAEC,KAAK,CAAKF,MAAM,CAAhBE,KAAK,CACnBL,OAAO,gCACAD,IAAI,wBACNK,IAAI,CAAGC,KAAK,GACf,CACN,CAAC,CAGD;AACG,GAAMC,SAAQ,6FAAG,iBAAOC,CAAC,wJACxBA,CAAC,CAACC,cAAc,EAAE,CAAC,gBAGXC,WAAW,CAAG,CACdC,OAAO,CAAE,CACL,cAAc,CAAE,gCAAgC,CAChD,6BAA6B,CAAE,GAEnC,CACF,CAAC,CACGC,GAAG,CAAG,sCAAsC,CACtDC,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC,uBACRpB,MAAK,CAACqB,IAAI,CAACH,GAAG,CAAEZ,IAAI,CAAEU,WAAW,CAAE,QAAhDM,IAAI,eACVC,CAAC,CAAGC,IAAI,CAACC,SAAS,CAACH,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEI,IAAI,CAAC,CAEtBC,MAAM,CAAGJ,CAAC,CAACK,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAEvBC,CAAC,CAAGF,MAAM,CAACG,SAAS,CAAC,CAAC,CAAEH,MAAM,CAACI,MAAM,CAAC,CAAC,CAAC,CACvCZ,OAAO,CAACC,GAAG,CAAC,iBAAiB,CAACS,CAAC,CAAC,CACjCG,YAAY,CAACC,OAAO,CAAC,MAAM,CAACJ,CAAC,CAAC,CAC7BrB,QAAQ,CAAC,YAAY,CAAC,CACpB0B,MAAM,CAACC,QAAQ,CAAG,YAAY,kFAQlC3B,QAAQ,CAAC,QAAQ,CAAC,CACnB0B,MAAM,CAACC,QAAQ,CAAG,QAAQ,CACzBhB,OAAO,CAACC,GAAG,aAAO,CAClBD,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC,sEAEpC,kBAnCIP,SAAQ,6CAmCZ,CAGR,mBAEO,oCACA,6BAAc,cACb,qCACI,cAEI,SAAS,MACT,IAAI,CAAE,MAAM,CACZ,WAAW,CAAG,QAAQ,CACtB,KAAK,CAAGP,IAAI,CAACF,MAAO,CACpB,QAAQ,CAAIK,WAAa,CACzB,IAAI,CAAE,QAAQ,EAChB,cACF,cAAO,IAAI,CAAC,UAAU,CAClB,WAAW,CAAG,UAAU,CACxB,KAAK,CAAEH,IAAI,CAACD,QAAS,CACrB,QAAQ,CAAEI,WAAY,CACtB,IAAI,CAAC,UAAU,EACjB,cACF,eAAQ,OAAO,CAAEI,QAAS,CAAC,IAAI,CAAC,QAAQ,qBAE/B,cACT,KAAC,IAAI,EAAC,EAAE,CAAC,SAAS,qBAAgB,GAC/B,GACL,CAGX,CAAC,CAED,cAAeV,MAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}